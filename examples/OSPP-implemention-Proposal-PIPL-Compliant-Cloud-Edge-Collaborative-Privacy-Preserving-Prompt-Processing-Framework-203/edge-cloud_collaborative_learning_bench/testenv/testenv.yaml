testenv:
  name: "pipl-compliant-privacy-preserving-llm-collaboration"
  version: "1.0.0"
  
  dataset:
    name: "ChnSentiCorp-Lite"
    description: "PIPL-compliant Chinese sentiment analysis dataset with privacy annotations"
    train_data: "./data/chnsenticorp_lite/train.jsonl"
    test_data: "./data/chnsenticorp_lite/test.jsonl"
    val_data: "./data/chnsenticorp_lite/val.jsonl"
    data_format: "jsonl"
    
    # Dataset characteristics
    total_samples: 3000
    train_samples: 2000
    test_samples: 500
    val_samples: 500
    
    # Privacy annotations
    privacy_annotations: true
    pipl_compliance: true
    synthetic_pii: true
    attack_evaluation_subsets: true
  
  metrics:
    # Utility metrics
    utility:
      - name: "accuracy"
        type: "classification_accuracy"
        description: "Overall classification accuracy"
        target: "maximize"
      
      - name: "f1_score"
        type: "f1_score"
        description: "F1 score for sentiment classification"
        target: "maximize"
      
      - name: "precision"
        type: "precision"
        description: "Precision for sentiment classification"
        target: "maximize"
      
      - name: "recall"
        type: "recall"
        description: "Recall for sentiment classification"
        target: "maximize"
    
    # Privacy metrics
    privacy:
      - name: "privacy_score"
        type: "privacy_protection_score"
        description: "Overall privacy protection effectiveness"
        target: "maximize"
      
      - name: "mia_attack_success_rate"
        type: "membership_inference_attack"
        description: "Membership inference attack success rate (lower is better)"
        target: "minimize"
      
      - name: "neighbourhood_mia_auc"
        type: "neighbourhood_mia_auc"
        description: "Neighbourhood MIA AUC score"
        target: "minimize"
      
      - name: "loss_attack_auc"
        type: "loss_attack_auc"
        description: "LOSS attack AUC score"
        target: "minimize"
      
      - name: "lira_attack_auc"
        type: "lira_attack_auc"
        description: "LiRA attack AUC score"
        target: "minimize"
      
      - name: "privacy_leakage_score"
        type: "privacy_leakage"
        description: "Privacy leakage measurement"
        target: "minimize"
      
      - name: "embedding_inversion_resistance"
        type: "inversion_resistance"
        description: "Resistance to embedding inversion attacks"
        target: "maximize"
    
    # Performance metrics
    performance:
      - name: "end_to_end_latency"
        type: "latency"
        description: "Total latency from input to response"
        unit: "seconds"
        target: "minimize"
      
      - name: "throughput"
        type: "throughput"
        description: "Requests processed per second"
        unit: "requests/second"
        target: "maximize"
      
      - name: "edge_processing_time"
        type: "edge_latency"
        description: "Time spent on edge processing"
        unit: "seconds"
        target: "minimize"
      
      - name: "cloud_processing_time"
        type: "cloud_latency"
        description: "Time spent on cloud processing"
        unit: "seconds"
        target: "minimize"
      
      - name: "network_overhead"
        type: "network_latency"
        description: "Network transmission overhead"
        unit: "seconds"
        target: "minimize"
      
      - name: "memory_usage"
        type: "memory_consumption"
        description: "Memory usage during processing"
        unit: "MB"
        target: "minimize"
    
    # Compliance metrics
    compliance:
      - name: "pipl_compliance_score"
        type: "pipl_compliance"
        description: "PIPL compliance score"
        target: "maximize"
      
      - name: "minimal_necessity_check"
        type: "minimal_necessity"
        description: "Minimal necessity principle compliance"
        target: "maximize"
      
      - name: "budget_compliance_check"
        type: "privacy_budget_compliance"
        description: "Privacy budget compliance"
        target: "maximize"
      
      - name: "audit_integrity_check"
        type: "audit_integrity"
        description: "Audit log integrity verification"
        target: "maximize"
      
      - name: "cross_border_policy_compliance"
        type: "cross_border_compliance"
        description: "Cross-border transmission policy compliance"
        target: "maximize"
      
      - name: "consent_verification"
        type: "consent_verification"
        description: "User consent verification"
        target: "maximize"
  
  # Evaluation configuration
  evaluation:
    # Attack simulation parameters
    attack_simulation:
      neighbourhood_mia:
        enabled: true
        num_neighbors: 100
        similarity_threshold: 0.8
      
      loss_attack:
        enabled: true
        confidence_threshold: 0.5
      
      lira_attack:
        enabled: true
        num_shadow_models: 5
        confidence_threshold: 0.5
    
    # Privacy budget evaluation
    privacy_budget:
      session_limit: 10.0
      rate_limit: 5
      budget_tracking: true
    
    # Cross-border transmission evaluation
    cross_border_evaluation:
      enabled: true
      policy: "strict"
      consent_required: true
      anonymization_required: true
  
  # Hardware requirements
  hardware:
    edge:
      min_gpu_memory: "8GB"
      recommended_gpu: "NVIDIA T4"
      min_cpu_cores: 4
      min_ram: "16GB"
    
    cloud:
      api_access: true
      model_requirements: "GPT-4o-mini compatible"
  
  # Environment variables
  environment:
    required_vars:
      - "EDGE_API_KEY"
      - "CLOUD_API_KEY"
    
    optional_vars:
      - "PRIVACY_BUDGET_LIMIT"
      - "AUDIT_LOG_LEVEL"
      - "COMPLIANCE_MODE"
  
  # Logging configuration
  logging:
    level: "INFO"
    audit_logging: true
    compliance_logging: true
    performance_logging: true
    
    log_retention:
      days: 30
      max_entries: 10000
  
  # Security configuration
  security:
    data_encryption: true
    audit_log_integrity: true
    secure_transmission: true
    access_control: true


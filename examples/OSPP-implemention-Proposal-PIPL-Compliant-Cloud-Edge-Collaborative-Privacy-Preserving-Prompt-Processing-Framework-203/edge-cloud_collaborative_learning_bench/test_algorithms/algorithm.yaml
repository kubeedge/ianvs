algorithm:
  # paradigm name; string type;
  paradigm_type: "jointinference"

  # algorithm module configuration in the paradigm; list type;
  modules:
    # kind of algorithm module; string type;
    - type: "dataset_processor"
      # name of custom dataset processor; string type;
      name: "PIPLPrivacyDatasetProcessor"
      # the url address of custom dataset processor; string type;
      url: "./test_algorithms/privacy_preserving_llm/privacy_preserving_llm.py"

    - type: "edgemodel"
      # name of edge model module; string type;
      name: "PrivacyPreservingEdgeModel"
      # the url address of edge model module; string type;
      url: "./test_algorithms/privacy_preserving_llm/privacy_preserving_llm.py"

      hyperparameters:
      # name of the hyperparameter; string type;
        - model:
            values:
              - "meta-llama/Llama-3-8B-Instruct"
        - quantization:
            values:
              - "4bit"
        - api_base:
            values:
              - "https://api.openai.com/v1"
        - api_key_env:
            values:
              - "EDGE_API_KEY"
        - hidden_layer_index:
            values:
              - -2
        - pooling_strategy:
            values:
              - "mean"
        - max_length:
            values:
              - 2048
        - device:
            values:
              - "cuda"
              
    - type: "cloudmodel"
      # name of python module; string type;
      name: "PrivacyPreservingCloudModel"
      # the url address of python module; string type;
      url: "./test_algorithms/privacy_preserving_llm/privacy_preserving_llm.py"

      hyperparameters:
        # name of the hyperparameter; string type;
        - model:
            values:
              - "gpt-4o-mini"
        - api_base:
            values:
              - "https://api.openai.com/v1"
        - api_key_env:
            values:
              - "CLOUD_API_KEY"
        - vector_adapter_input_dim:
            values:
              - 64
        - vector_adapter_hidden_dim:
            values:
              - 512
        - vector_adapter_output_dim:
            values:
              - 4096
        - max_tokens:
            values:
              - 1024
        - temperature:
            values:
              - 0.7